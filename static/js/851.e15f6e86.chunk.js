"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[851],{8851:function(e,n,r){r.r(n),r.d(n,{default:function(){return C}});var t=r(2791),o=r(7689),a=r(5048),s=r(8650),c=r(5295),i=r(4190),u=r(824),d=r(3329),l=function(){var e=(0,a.I0)(),n=(0,a.v9)((function(e){return e.filter}));return(0,d.jsxs)(i.Kq,{w:"400px",my:"4",children:[(0,d.jsx)("p",{children:" Find contacts by name"}),(0,d.jsx)(u.II,{onChange:function(n){e((0,c.T)(n.currentTarget.value.toLowerCase()))},value:n,type:"text",name:"filter"})]})},m=r(1413),p=r(6501),h=r(9439),x=r(9085),b=r(5777),f=function(e){var n=e.name,r=e.number,o=e.id,a=(0,p.zr)(),s=(0,h.Z)(a,2),c=s[0],u=s[1],l=u.isLoading,m=u.isSuccess,f=u.error;return(0,t.useEffect)((function(){m&&x.Am.info(" ".concat(n," removed from the phonebook")),f&&x.Am.error("oops something went wrong")}),[m,n,f]),(0,d.jsx)(i.xu,{mb:"5",children:(0,d.jsxs)(i.kC,{alignItems:"center",justifyContent:"space-between",w:"400px",mb:"5",border:"1px solid #000",p:"10px",borderRadius:"10px",backgroundColor:"#fff",children:[n,": ",r,(0,d.jsx)(b.zx,{type:"button",height:"30px",border:"rgba(0, 0, 0, 0.3) 1px solid",borderRadius:"3px",backgroundColor:"burlywood",_hover:{bg:"red"},onClick:function(){return c(o)},disabled:l,children:l?"Delete...":"Delete"})]})},o)},g=r(9194),j=function(){var e=(0,p.pG)(),n=e.data,r=e.isFetching,t=(0,a.v9)((function(e){return e.filter})),o=n&&n.filter((function(e){return e.name.toLowerCase().includes(t)}));return(0,d.jsxs)(d.Fragment,{children:[n&&0!==n.length&&(0,d.jsx)("ul",{children:0!==o.length?o.map((function(e){return(0,d.jsx)(f,(0,m.Z)({},e),e.id)})):(0,d.jsxs)("p",{children:["there is no such contact: ",t]})}),n&&0===n.length&&(0,d.jsx)("p",{children:"Contact list is empty!"}),r&&(0,d.jsx)(g.$,{thickness:"1px",speed:"2s",emptyColor:"gray.200",color:"green.500",size:"xl"})]})},w=function(){var e=(0,p.F3)(),n=(0,h.Z)(e,2),r=n[0],o=n[1],a=o.isLoading,s=o.isSuccess,c=o.error,l=(0,p.pG)().data,m=(0,t.useState)(""),f=(0,h.Z)(m,2),g=f[0],j=f[1],w=(0,t.useState)(""),C=(0,h.Z)(w,2),v=C[0],y=C[1],k=(0,t.useState)(""),A=(0,h.Z)(k,2),Z=A[0],z=A[1];(0,t.useEffect)((function(){s&&x.Am.success(" ".concat(Z," added to contact book"),{autoClose:800}),c&&x.Am.error("oops something went wrong")}),[c,s,Z]);var I=function(e){var n=e.currentTarget,r=n.name,t=n.value;switch(r){case"name":j(t);break;case"number":y(t);break;default:return}};return(0,d.jsx)("form",{autoComplete:"off",onSubmit:function(e){e.preventDefault(),z(g),l.every((function(e){return e.name.toLowerCase()!==g.toLowerCase()}))?r({name:g,number:v}):x.Am.error("".concat(g," is already in phonebook")),j(""),y("")},children:(0,d.jsxs)(i.Kq,{w:"400px",mx:"auto",my:"6",spacing:4,children:[(0,d.jsx)("p",{children:"Name"}),(0,d.jsx)(u.II,{onChange:I,value:g,type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0}),(0,d.jsx)("p",{children:"Number"}),(0,d.jsx)(u.II,{onChange:I,value:v,type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0}),(0,d.jsx)(b.zx,{colorScheme:"gray",type:"submit",bg:"burlywood",width:"100%",borderRadius:"3px",padding:"23px",color:"white",_hover:{bg:"#80b438"},disabled:!v||!g,children:a?"Add Contact...Spiner":"Add Contact"})]})})},C=function(){var e=(0,a.v9)(s.Vp);return(0,d.jsxs)(i.xu,{w:"400px",mx:"auto",my:"8",children:[!e&&(0,d.jsx)(o.Fg,{to:"/",replace:!0}),(0,d.jsx)(i.X6,{mb:5,children:"Phonebook"}),(0,d.jsx)(w,{}),(0,d.jsx)(i.X6,{mb:5,children:"Contacts"}),(0,d.jsx)(l,{}),(0,d.jsx)(j,{})]})}}}]);
//# sourceMappingURL=851.e15f6e86.chunk.js.map