"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[851],{8851:function(e,n,t){t.r(n),t.d(n,{default:function(){return C}});var r=t(2791),o=t(7689),a=t(5048),s=t(8650),i=t(5295),c=t(4190),u=t(824),d=t(3329),l=function(){var e=(0,a.I0)(),n=(0,a.v9)((function(e){return e.filter}));return(0,d.jsxs)(c.Kq,{w:"400px",my:"4",children:[(0,d.jsx)("p",{children:" Find contacts by name"}),(0,d.jsx)(u.II,{onChange:function(n){e((0,i.T)(n.currentTarget.value.toLowerCase()))},value:n,type:"text",name:"filter"})]})},p=t(1413),x=t(6501),h=t(9439),m=t(9085),b=t(5777),f=function(e){var n=e.name,t=e.number,o=e.id,a=(0,x.zr)(),s=(0,h.Z)(a,2),i=s[0],u=s[1],l=u.isLoading,p=u.isSuccess,f=u.error;return(0,r.useEffect)((function(){p&&m.Am.info(" ".concat(n," removed from the phonebook")),f&&m.Am.error("oops something went wrong")}),[p,n,f]),(0,d.jsx)(c.xu,{mb:"5",children:(0,d.jsxs)(c.kC,{alignItems:"center",justifyContent:"space-between",w:"400px",mb:"5",border:"1px solid #000",p:"10px",borderRadius:"10px",backgroundColor:"#fff",children:[n,": ",t,(0,d.jsx)(b.zx,{type:"button",height:"30px",border:"rgba(0, 0, 0, 0.3) 1px solid",borderRadius:"3px",backgroundColor:"burlywood",_hover:{bg:"red"},onClick:function(){return i(o)},disabled:l,children:l?"Delete...":"Delete"})]})},o)},g=t(9194),j=function(){var e=(0,x.pG)(),n=e.data,t=e.isFetching,r=(0,a.v9)((function(e){return e.filter})),o=n&&n.filter((function(e){return e.name.toLowerCase().includes(r)}));return(0,d.jsxs)(d.Fragment,{children:[n&&0!==n.length&&(0,d.jsx)("ul",{children:0!==o.length?o.map((function(e){return(0,d.jsx)(f,(0,p.Z)({},e),e.id)})):(0,d.jsxs)("p",{children:["there is no such contact: ",r]})}),n&&0===n.length&&(0,d.jsx)("p",{children:"Contact list is empty!"}),t&&(0,d.jsx)(g.$,{thickness:"1px",speed:"2s",emptyColor:"gray.200",color:"green.500",size:"xl"})]})},w=function(){var e=(0,x.F3)(),n=(0,h.Z)(e,2),t=n[0],o=n[1],a=o.isLoading,s=o.isSuccess,i=o.error,l=(0,x.pG)().data,p=(0,r.useState)(""),f=(0,h.Z)(p,2),g=f[0],j=f[1],w=(0,r.useState)(""),C=(0,h.Z)(w,2),v=C[0],y=C[1],k=(0,r.useState)(""),A=(0,h.Z)(k,2),S=A[0],Z=A[1];(0,r.useEffect)((function(){s&&m.Am.success(" ".concat(S," added to contact book"),{autoClose:800}),i&&m.Am.error("oops something went wrong")}),[i,s,S]);var z=function(e){var n=e.currentTarget,t=n.name,r=n.value;switch(t){case"name":j(r);break;case"number":y(r);break;default:return}};return(0,d.jsx)("form",{autoComplete:"off",onSubmit:function(e){e.preventDefault(),Z(g),l.every((function(e){return e.name.toLowerCase()!==g.toLowerCase()}))?t({name:g,number:v}):m.Am.error("".concat(g," is already in phonebook")),j(""),y("")},children:(0,d.jsxs)(c.Kq,{w:"400px",mx:"auto",my:"6",spacing:4,children:[(0,d.jsx)("p",{children:"Name"}),(0,d.jsx)(u.II,{onChange:z,value:g,type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0}),(0,d.jsx)("p",{children:"Number"}),(0,d.jsx)(u.II,{onChange:z,value:v,type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0}),(0,d.jsx)(b.zx,{colorScheme:"gray",type:"submit",bg:"burlywood",width:"100%",borderRadius:"3px",padding:"23px",color:"white",_hover:{bg:"#80b438"},disabled:!v||!g,children:a?"Add Contact...Spiner":"Add Contact"})]})})},C=function(){var e=(0,a.v9)(s.Vp);return(0,d.jsxs)(c.xu,{w:"450px",mx:"auto",my:"5",padding:"15px 15px 15px 15px",boxShadow:"rgba(0, 0, 0, 0.24) 0px 3px 8px;",borderRadius:"20px",children:[!e&&(0,d.jsx)(o.Fg,{to:"/",replace:!0}),(0,d.jsx)(c.X6,{textAlign:"center",children:"Phonebook"}),(0,d.jsx)(w,{}),(0,d.jsx)(c.X6,{textAlign:"center",children:"Contacts"}),(0,d.jsx)(l,{}),(0,d.jsx)(j,{})]})}}}]);
//# sourceMappingURL=851.2141ef40.chunk.js.map